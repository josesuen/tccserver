<!DOCTYPE html>
<html>

<head>
  <th:block th:include="fragments/dashboardVehicles.html :: headerfiles"></th:block>
</head>

<body data-gr-c-s-loaded="true">
  <nav class="side-navbar">
    <div class="side-navbar-wrapper">
      <!-- Sidebar Header    -->
      <div class="sidenav-header d-flex align-items-center justify-content-center">
        <!-- User Info-->
        <div class="sidenav-header-inner text-center">
          <div class="navbarIcon"><i style="margin:0;" class="fas fa-car fa-3x"></i></div>
          <h2 th:text="${vehicle.model}" class="h5"></h2><span th:text="${vehicle.vin}">VIN</span>
        </div>
        <!-- Small Brand information, appears on minimized sidebar-->
        <div class="sidenav-header-logo"><a href="index.html" class="brand-small text-center"> <strong>T</strong><strong class="text-primary">CC</strong></a></div>
      </div>
      <!-- Sidebar Navigation Menus-->
      <div class="main-menu">
        <ul id="side-main-menu" class="side-menu list-unstyled">
          <li><a href="index.html"> <i class="fas fa-home"></i>HOME                             </a></li>
          <li><a href="forms.html"> <i class="fas fa-road"></i>RODAGENS                             </a></li>
          <li><a href="charts.html"> <i class="far fa-chart-bar"></i>ESTATISTICAS                             </a></li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="page">
    <header th:replace="fragments/dashboardVehicles.html :: header">
    </header>
    <section class="section-padding">
      <div class="container-fluid">
        <div class="card">
          <div class="card-header d-flex align-items-center">
            <h3></i>RODAGEM</h3>
          </div>
          <div class="card-body">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Id</th>
                  <th>Odometro inicio</th>
                  <th>Odometro fim</th>
                </tr>
              </thead>
              <tbody>
                <tr class="drive_row" th:each="drive: ${drives}">
                  <td id="drive_id" th:text="${drive.id}">vasile</td>
                  <td th:text="${drive.mileage_start}">vasile</td>
                  <td th:text="${drive.mileage_end}">45</td>
                </tr>
              </tbody>
            </table>

          </div>
        </div>
        <h1 style="display:none;" id="vin" th:text="${vehicle.vin}"></h1>
      </div>
  </section>
  <footer th:replace="fragments/dashboardVehicles.html :: footer">
  </footer>
  </div>
  </div>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script th:src="@{/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js}"></script>
  <!-- Main File-->
  <script th:src="@{/js/vehicleDashboard.js}"></script>
  <!-- Script to open vehicle page -->
  <script>
    $(function() {
      $('.drive_row').click(function() {
        var vin = $(document).find("#vin").html();
        var drive_id = $(this).find("#drive_id").html();
        window.location.href = '/admin/vehicle' + '/' + vin + '/drives/' + drive_id;
      });
    });
  </script>
</body>

</html>
